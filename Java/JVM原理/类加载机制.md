# JVM简易教程|类加载机制

在Java语言中，类型的加载，连接和初始化都是在程序运行期间完成的，这使得Java应用程序具有高度的灵活性；而类的生命周期包括：`加载`，`验证`，`准备`，`解析`，`初始化`，`使用`，`卸载`7个阶段

## 类加载过程

* **加载**

    1. 通过类的全限定名获取二进制字节流
    2. 将静态存储结构转化为方法区的运行时数据结构
    3. 在内存中java.lang.Class对象，作为方法区的数据访问入口

* **验证**

    验证过程主要是防止载入了有害的字节流而导致系统崩溃，验证阶段主要有四个阶段的检验动作：
    1. 文件格式验证
    2. 元数据验证
    3. 字节码验证
    4. 符号引用验证

* **准备**

    准备阶段是正式为类变量分配内存并设置类变量初始值的阶段，这些变量所使用的内存都将在方法区进行分配。

* **解析**

    解析阶段是虚拟机将常量池内的符号引用替换为直接引用的过程；解析过程主要针对`类或接口`，`字段`，`类方法`，`接口方法`，`方法类型`，`方法句柄`，`调用点限定符`七类符号引用。

* **初始化**

    初始化阶段是执行类构造器<clinit>()方法的过程，主要包括类变量的赋值动作和静态语句块的执行动作

* **使用**
* **卸载**

## 类加载器

类加载器用于实现类的加载动作；包括两种类加载器：一种是启动类加载器，另一种则是继承自抽象类java.lang.ClassLoader的类加载器实现


**双亲委派模型：**

如果类加载器收到类加载的请求，则先把请求委派给父类加载器完成；只有当父类加载器反馈无法完成加载请求，子加载器才会尝试自己加载



























