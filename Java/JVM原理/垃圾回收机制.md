# JVM简易教程|垃圾回收机制

垃圾回收机制（GC），指的是对内存空间的管理和释放；对于垃圾回收机制，我们要思考三个问题：

  * 哪些内存需要回收（对象存活判定算法）
  * 什么时候回收（内存回收策略）
  * 如何回收（垃圾收集算法）


## 对象存活判定算法

  * **引用计数算法**

  	  对象添加引用计数器进行引用计数

  * **可达性分析算法**

  	  以`GC Roots`对象建立引用链，当`GC Roots`到对象不可达则说明对象不可用

## 垃圾收集算法

  * **标记-清除算法**

  	  标记所有需要回收的对象并在标记完成后统一回收所有被标记的对象

  * **复制算法**

  	  将可用内存划分为大小相等的两块，在内存用完后将存活对象复制到另一块并将已经使用的内存空间清理

  * **标记-整理算法**

  	  这个算法主要用于老年代，在标记回收对象后使所有存活对象向一端移动，并清理端边界以外的内存

  * **分代收集算法**

  	  根据对象存活周期的不同划分内存，一般将Java堆划分为新生代和老年代，并根据年代特点采用适当的收集算法


## 内存回收策略

对象主要分配在新生代的Eden区上，少数情况会直接分配在老年代上；当剩余内存已经不足以进行对象内存分配时会触发`Minor GC`，而如果大量对象在`Minor GC`后依然存活时则需要老年代进行分配担保；如果老年代不足以容纳则会触发`Full GC`





























